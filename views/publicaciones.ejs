<%- include("templates/header", {tituloWeb: 'Publicaciones'}) %>
<body>
   <h2 class="text-center mt-5"><%= title %></h2>
   <div class="container p-2">
      <div class="row">
         <% if (typeof publicaciones !== 'undefined') { %>
            <% if (publicaciones.length > 0) { %>
               <% publicaciones.forEach( publicacion => { %>
                  <div class="col-md-4 p-2">
                     <div class="card">
                        <div class="card-header">Titulo: <%= publicacion.Titulo %></div>
                        <div class="card-body">
                           <div class="col m-1"><%= publicacion.Contenido %></div>
                           <div class="col m-1">Fecha: <%= publicacion.CreatedDate %></div>
                           <div class="col m-1">Autor: <%= publicacion.Nombre %> <%= publicacion.Apellido %> / C.I: <%= publicacion.Cedula %></div>
                        </div>
                        <% if (rol == 'admin') { %>
                           <div class="card-footer">
                              <div class="nav justify-content-around">
                                 <a href="#" class="btn btn-primary"> Ver </a>
                                 <a href="/editar-publicacion/<%= publicacion.Cedula %>/<%= rol %>" class="btn btn-warning"> Editar </a>
                                 <a href="/borrar-publicacion/<%= publicacion.Cedula %>/<%= rol %>" class="btn btn-danger"> Borrar </a>
                              </div>
                           </div>
                        <% } %>
                     </div>
                  </div>
               <% }) %>
            <% } else {%>
               <div class="container">No hay publicaciones creadas</div>
            <% } %>
         <% } else { %>
            <div class="container">No hay publicaciones para ver</div>
         <% } %>
      </div>
   </div>
</body>
<%- include("templates/footer") %>